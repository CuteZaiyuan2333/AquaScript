# AquaScript å­—å…¸åŠŸèƒ½æ–‡æ¡£

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

AquaScript ç°å·²å®Œå…¨æ”¯æŒå­—å…¸ï¼ˆDictionaryï¼‰æ•°æ®ç±»å‹ï¼Œæä¾›äº†ä¸ Python ç±»ä¼¼çš„å­—å…¸æ“ä½œåŠŸèƒ½ã€‚å­—å…¸æ˜¯ä¸€ç§é”®å€¼å¯¹çš„é›†åˆï¼Œä½¿ç”¨å¤§æ‹¬å· `{}` è¡¨ç¤ºã€‚

## âœ… å·²å®ç°åŠŸèƒ½

### 1. å­—å…¸å­—é¢é‡è¯­æ³•
```aqua
# ç©ºå­—å…¸
var empty_dict = {}

# å¸¦åˆå§‹å€¼çš„å­—å…¸
var person = {"name": "Alice", "age": 30, "city": "Beijing"}

# æ··åˆæ•°æ®ç±»å‹
var mixed = {"string": "hello", "number": 42, "list": [1, 2, 3]}
```

### 2. å­—å…¸å…ƒç´ è®¿é—®
```aqua
var person = {"name": "Alice", "age": 30}

# è¯»å–å…ƒç´ 
print(person["name"])    # è¾“å‡º: Alice
print(person["age"])     # è¾“å‡º: 30
```

### 3. å­—å…¸å…ƒç´ ä¿®æ”¹
```aqua
var person = {"name": "Alice", "age": 30}

# ä¿®æ”¹ç°æœ‰å…ƒç´ 
person["age"] = 31

# æ·»åŠ æ–°å…ƒç´ 
person["job"] = "Engineer"

print(person)  # è¾“å‡º: {'name': 'Alice', 'age': 31, 'job': 'Engineer'}
```

### 4. åµŒå¥—å­—å…¸
```aqua
# å¤šå±‚åµŒå¥—å­—å…¸
var config = {
    "database": {
        "host": "localhost",
        "port": 5432,
        "credentials": {
            "username": "admin",
            "password": "secret"
        }
    },
    "app": {
        "name": "MyApp",
        "version": "1.0"
    }
}

# è®¿é—®åµŒå¥—å…ƒç´ 
print(config["database"]["host"])                    # è¾“å‡º: localhost
print(config["database"]["credentials"]["username"]) # è¾“å‡º: admin

# ä¿®æ”¹åµŒå¥—å…ƒç´ 
config["database"]["port"] = 3306
config["app"]["version"] = "1.1"
```

### 5. å­—å…¸ä¸å…¶ä»–æ•°æ®ç±»å‹æ··åˆ
```aqua
# å­—å…¸åŒ…å«åˆ—è¡¨
var data = {
    "numbers": [1, 2, 3, 4, 5],
    "info": {"type": "test", "valid": true}
}

print(data["numbers"])        # è¾“å‡º: [1, 2, 3, 4, 5]
print(data["info"]["type"])   # è¾“å‡º: test

# åˆ—è¡¨åŒ…å«å­—å…¸
var users = [
    {"name": "Alice", "age": 25},
    {"name": "Bob", "age": 30}
]

print(users[0]["name"])  # è¾“å‡º: Alice
print(users[1]["age"])   # è¾“å‡º: 30
```

### 6. å­—å…¸ä½œä¸ºå‡½æ•°å‚æ•°
```aqua
func process_user(user_dict) {
    print("å¤„ç†ç”¨æˆ·:", user_dict["name"])
    print("ç”¨æˆ·å¹´é¾„:", user_dict["age"])
    return user_dict["name"] + " å·²å¤„ç†"
}

var person = {"name": "å¼ ä¸‰", "age": 25}
var result = process_user(person)
print(result)  # è¾“å‡º: å¼ ä¸‰ å·²å¤„ç†
```

## ğŸ”§ æŠ€æœ¯å®ç°

### è¯æ³•åˆ†æå™¨æ‰©å±•
- å·²æ”¯æŒå¤§æ‹¬å· `{` å’Œ `}` token
- å·²æ”¯æŒå†’å· `:` tokenï¼ˆç”¨äºé”®å€¼å¯¹åˆ†éš”ï¼‰

### è¯­æ³•åˆ†æå™¨æ‰©å±•
- æ–°å¢ `DictLiteral` AST èŠ‚ç‚¹
- åœ¨ `parse_primary_expression` ä¸­æ·»åŠ å­—å…¸è§£æé€»è¾‘
- æ”¯æŒé”®å€¼å¯¹è¯­æ³•ï¼š`key: value`
- æ”¯æŒå°¾éšé€—å·

### ä»£ç ç”Ÿæˆå™¨æ‰©å±•
- æ–°å¢ `BUILD_DICT` å­—èŠ‚ç æŒ‡ä»¤ï¼ˆ0x6Aï¼‰
- åœ¨ `compile_expression` ä¸­æ·»åŠ å­—å…¸ç¼–è¯‘é€»è¾‘
- å¤ç”¨ç°æœ‰çš„ `GET_ITEM` å’Œ `SET_ITEM` æŒ‡ä»¤

### è™šæ‹Ÿæœºæ‰©å±•
- å®ç° `BUILD_DICT` æŒ‡ä»¤å¤„ç†
- å¢å¼º `GET_ITEM` å’Œ `SET_ITEM` æŒ‡ä»¤æ”¯æŒå­—å…¸æ“ä½œ
- å®Œæ•´çš„é”™è¯¯å¤„ç†æœºåˆ¶

## ğŸ“Š æ€§èƒ½ç‰¹æ€§

### å†…å­˜æ•ˆç‡
- ä½¿ç”¨ Python åŸç”Ÿå­—å…¸å®ç°ï¼Œå†…å­˜æ•ˆç‡é«˜
- æ”¯æŒä»»æ„æ•°æ®ç±»å‹ä½œä¸ºé”®å’Œå€¼

### è®¿é—®æ€§èƒ½
- O(1) å¹³å‡æ—¶é—´å¤æ‚åº¦çš„é”®æŸ¥æ‰¾
- O(1) å¹³å‡æ—¶é—´å¤æ‚åº¦çš„æ’å…¥å’Œåˆ é™¤

### åµŒå¥—æ”¯æŒ
- æ— é™å±‚çº§çš„åµŒå¥—æ”¯æŒ
- é«˜æ•ˆçš„åµŒå¥—è®¿é—®å’Œä¿®æ”¹

## ğŸ§ª æµ‹è¯•è¦†ç›–

### åŸºç¡€åŠŸèƒ½æµ‹è¯•
- âœ… ç©ºå­—å…¸åˆ›å»º
- âœ… å­—å…¸å­—é¢é‡è§£æ
- âœ… é”®å€¼å¯¹è®¿é—®
- âœ… é”®å€¼å¯¹ä¿®æ”¹
- âœ… æ–°é”®å€¼å¯¹æ·»åŠ 

### é«˜çº§åŠŸèƒ½æµ‹è¯•
- âœ… åµŒå¥—å­—å…¸æ“ä½œ
- âœ… æ··åˆæ•°æ®ç±»å‹æ”¯æŒ
- âœ… å­—å…¸ä½œä¸ºå‡½æ•°å‚æ•°
- âœ… å¤æ‚æ•°æ®ç»“æ„ç»„åˆ

### é”™è¯¯å¤„ç†æµ‹è¯•
- âœ… é”®ä¸å­˜åœ¨æ—¶çš„é”™è¯¯å¤„ç†
- âœ… ç±»å‹é”™è¯¯çš„å¤„ç†
- âœ… è¯­æ³•é”™è¯¯çš„æ£€æµ‹

## ğŸ”„ ä¸å…¶ä»–è¯­è¨€çš„å…¼å®¹æ€§

### Python å…¼å®¹æ€§
- è¯­æ³•ä¸ Python å­—å…¸å®Œå…¨å…¼å®¹
- æ”¯æŒç›¸åŒçš„æ“ä½œè¯­ä¹‰
- é”™è¯¯å¤„ç†è¡Œä¸ºä¸€è‡´

### JavaScript å…¼å®¹æ€§
- ç±»ä¼¼äº JavaScript å¯¹è±¡å­—é¢é‡è¯­æ³•
- æ”¯æŒåŠ¨æ€é”®å€¼å¯¹æ“ä½œ

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### é…ç½®ç®¡ç†
```aqua
var config = {
    "server": {
        "host": "0.0.0.0",
        "port": 8080,
        "ssl": false
    },
    "database": {
        "url": "postgresql://localhost:5432/mydb",
        "pool_size": 10
    }
}

print("æœåŠ¡å™¨ç«¯å£:", config["server"]["port"])
```

### æ•°æ®å¤„ç†
```aqua
var students = [
    {"name": "å¼ ä¸‰", "score": 85, "grade": "A"},
    {"name": "æå››", "score": 92, "grade": "A+"},
    {"name": "ç‹äº”", "score": 78, "grade": "B"}
]

func calculate_average(student_list) {
    var total = 0
    var count = 0
    # æ³¨æ„ï¼šè¿™é‡Œéœ€è¦å®ç° for...in å¾ªç¯æ¥éå†åˆ—è¡¨
    # å½“å‰ç‰ˆæœ¬å¯ä»¥é€šè¿‡ç´¢å¼•è®¿é—®
    return total / count
}
```

## ğŸ“‹ ä¸‹ä¸€æ­¥è®¡åˆ’

### å³å°†å®ç°çš„åŠŸèƒ½
- [ ] å­—å…¸å†…ç½®æ–¹æ³•ï¼š`keys()`, `values()`, `items()`
- [ ] å­—å…¸æ¨å¯¼å¼ï¼š`{k: v for k, v in items}`
- [ ] `in` æ“ä½œç¬¦æ”¯æŒï¼š`"key" in dict`
- [ ] å­—å…¸åˆå¹¶æ“ä½œï¼š`dict1.update(dict2)`

### æ€§èƒ½ä¼˜åŒ–
- [ ] å­—å…¸æ“ä½œçš„è¿›ä¸€æ­¥ä¼˜åŒ–
- [ ] å†…å­˜ä½¿ç”¨ä¼˜åŒ–
- [ ] å¤§å‹å­—å…¸çš„æ€§èƒ½æµ‹è¯•

---

**æ€»ç»“**ï¼šAquaScript çš„å­—å…¸åŠŸèƒ½å·²ç»å®Œå…¨å®ç°å¹¶é€šè¿‡äº†å…¨é¢æµ‹è¯•ï¼Œæä¾›äº†ç°ä»£ç¼–ç¨‹è¯­è¨€æ‰€éœ€çš„æ ¸å¿ƒå­—å…¸æ“ä½œèƒ½åŠ›ã€‚