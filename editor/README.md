# AquaScript 编辑器

一个现代化的 AquaScript 集成开发环境，支持 Web 版和桌面版。

## 功能特性

### 🎨 现代化界面设计
- 简洁直观的用户界面
- 支持浅色/深色主题切换
- 响应式布局，适配不同屏幕尺寸
- 现代化的图标和视觉效果

### 📝 完整的代码编辑功能
- 基于 Monaco Editor（VS Code 编辑器内核）
- AquaScript 语法高亮
- 智能代码补全和提示
- 代码折叠和缩进
- 多光标编辑
- 查找和替换功能

### 📁 文件管理系统
- 左侧文件浏览器
- 支持文件和文件夹的创建、删除、重命名
- 多标签页编辑
- 文件树展开/折叠
- 快速文件搜索

### 🔧 集成开发环境
- 一键编译 AquaScript 代码
- 一键运行编译后的程序
- 集成控制台显示输出和错误信息
- 实时编译状态反馈
- 错误高亮和提示

### 🎯 便捷的菜单系统
- 文件菜单：新建、打开、保存、另存为
- 编辑菜单：撤销、重做、复制、粘贴
- 编译菜单：编译、运行、编译并运行
- 关于菜单：版本信息和帮助

## 启动方式

### 🖥️ 桌面版（推荐）
**独立窗口，无需浏览器**

#### 快速启动
1. 双击 `启动AquaScript编辑器.bat`（Windows 批处理）
2. 或双击 `启动AquaScript编辑器.ps1`（PowerShell 脚本）
3. 或运行命令：`python desktop_app.py`

#### 特性
- 独立桌面窗口
- 原生应用体验
- 自动启动后端服务
- 支持系统托盘（可选）

### 🌐 Web 版
**在浏览器中运行**

#### 启动步骤
1. 运行：`python app.py`
2. 打开浏览器访问：http://localhost:5000

#### 特性
- 跨平台兼容
- 无需额外安装
- 支持远程访问

## 技术架构

### 前端技术栈
- **HTML5/CSS3/JavaScript**: 现代 Web 标准
- **Monaco Editor**: 微软开源的代码编辑器
- **Font Awesome**: 图标库
- **响应式设计**: 适配各种设备

### 后端技术栈
- **Python Flask**: 轻量级 Web 框架
- **RESTful API**: 标准化的接口设计
- **文件系统操作**: 完整的文件管理功能
- **进程管理**: AquaScript 编译和运行

### 桌面版技术栈
- **Python tkinter**: 原生 GUI 框架
- **pywebview**: 现代 Web 视图组件
- **多线程**: 后台服务管理
- **进程管理**: Flask 服务器控制

## 安装和使用

### 环境要求
- Python 3.7+
- 现代浏览器（Chrome、Firefox、Safari、Edge）

### 安装步骤

1. **进入编辑器目录**
   ```bash
   cd AquaScript/editor
   ```

2. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

3. **启动编辑器**
   
   **桌面版（推荐）：**
   ```bash
   python desktop_app.py
   ```
   或双击 `启动AquaScript编辑器.bat`

   **Web 版：**
   ```bash
   python app.py
   ```
   然后访问 http://localhost:5000

### 使用方法

1. **创建新文件**: 点击"文件" → "新建"或使用快捷键 Ctrl+N
2. **打开文件**: 点击"文件" → "打开"或使用快捷键 Ctrl+O
3. **保存文件**: 点击"文件" → "保存"或使用快捷键 Ctrl+S
4. **编译代码**: 点击"编译"按钮或使用快捷键 F7
5. **运行程序**: 点击"运行"按钮或使用快捷键 F5
6. **切换主题**: 点击主题切换按钮或使用快捷键 Ctrl+T

## 项目结构

```
editor/
├── app.py                          # Flask 后端服务
├── desktop_app.py                  # 桌面版启动器
├── main.js                         # Electron 主进程（备用）
├── package.json                    # Node.js 配置（备用）
├── loading.html                    # 启动加载页面
├── requirements.txt                # Python 依赖
├── 启动AquaScript编辑器.bat        # Windows 批处理启动脚本
├── 启动AquaScript编辑器.ps1        # PowerShell 启动脚本
├── templates/
│   └── index.html                  # 主页面模板
├── static/
│   ├── css/
│   │   └── main.css               # 主样式文件
│   └── js/
│       └── main.js                # 主 JavaScript 文件
└── workspace/
    └── hello.aqua                 # 示例文件
```

## 特色功能

### 🧠 智能代码编辑
- **语法高亮**: 完整的 AquaScript 语法支持
- **自动补全**: 智能的代码提示和补全
- **错误检测**: 实时语法错误检测
- **代码格式化**: 自动代码格式化和美化

### 📂 强大的文件管理
- **项目浏览器**: 完整的文件系统浏览
- **多标签编辑**: 同时编辑多个文件
- **快速搜索**: 文件内容和文件名搜索
- **文件操作**: 完整的文件 CRUD 操作

### 🚀 一体化开发环境
- **即时编译**: 快速编译 AquaScript 代码
- **一键运行**: 编译后立即运行程序
- **控制台集成**: 实时查看程序输出
- **错误追踪**: 详细的错误信息和位置

### 🎨 现代化界面
- **响应式设计**: 适配桌面和移动设备
- **主题切换**: 浅色和深色主题
- **流畅动画**: 平滑的界面过渡效果
- **直观操作**: 简单易用的用户界面

### 🖥️ 桌面版优势
- **独立窗口**: 无需浏览器，原生应用体验
- **自动服务管理**: 自动启动和停止后端服务
- **系统集成**: 更好的系统集成和性能
- **离线使用**: 完全离线工作环境

## 依赖说明

### 核心依赖
- `Flask==2.3.3`: Web 框架
- `pywebview==6.0`: 桌面 Web 视图
- `requests==2.32.4`: HTTP 请求库

### 可选依赖
- `electron`: 备用桌面解决方案（需要 Node.js）
- `electron-builder`: Electron 应用打包工具

## 故障排除

### 常见问题

1. **桌面版启动失败**
   - 确保已安装 `pywebview`: `pip install pywebview`
   - 检查 Python 版本是否 >= 3.7
   - 确保虚拟环境已激活

2. **网络相关问题**
   - 如果 npm 安装失败，使用桌面版（推荐）
   - 桌面版不依赖 Node.js 和 npm

3. **编译运行问题**
   - 确保 AquaScript 编译器在正确路径
   - 检查文件权限和路径设置

## 开发计划

### 已完成
- [x] 基础编辑器功能
- [x] 文件管理系统
- [x] 编译和运行功能
- [x] 主题切换
- [x] 桌面版应用
- [x] 启动脚本

### 进行中
- [ ] 代码调试功能
- [ ] 插件系统
- [ ] 性能优化

### 长期目标
- [ ] 多语言支持
- [ ] 云端同步
- [ ] 协作编辑
- [ ] 移动端适配

## 技术优势

1. **多平台支持**: Web 版 + 桌面版双重选择
2. **现代化**: 基于最新的 Web 技术栈
3. **轻量级**: 无需复杂的安装过程
4. **跨平台**: 支持 Windows、macOS、Linux
5. **可扩展**: 模块化设计，易于扩展
6. **开源**: 完全开源，可自由定制

## 贡献指南

欢迎贡献代码和建议！请遵循以下步骤：

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 许可证

本项目采用 MIT 许可证。详见 LICENSE 文件。

## 联系我们

如有问题或建议，请通过以下方式联系：

- 提交 Issue
- 发送邮件
- 加入讨论群

---

**AquaScript Editor** - 让编程更简单，让创意更自由！ 🌊